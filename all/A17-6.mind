{"root":{"data":{"id":"ciq9g7qsveg0","created":1647938517575,"text":"A17","expandState":"expand"},"children":[{"data":{"id":"coiof3yrrf40","created":1669105218621,"text":"新建患者、检查","expandState":"collapse","layout":null},"children":[{"data":{"id":"coiofhx3uu80","created":1669105248996,"text":"开始检查时手动新建","layout":null},"children":[{"data":{"id":"coiog6jykls0","created":1669105302620,"text":"freeze时，状态为NEW_PatientAndExam","layout":null},"children":[]}]},{"data":{"id":"coiofvj37og0","created":1669105278623,"text":"结束检查时新建","layout":null},"children":[]},{"data":{"id":"coioicki9r40","created":1669105472442,"text":"流程","layout":null},"children":[{"data":{"id":"coiok3a53600","created":1669105608953,"text":"默认初始化状态0，即NEW_PatientAndExam","layout":null},"children":[]},{"data":{"id":"coioies2ibs0","created":1669105477253,"text":"NewDTCD初始化InitOtherUICtrl()时初始化新建患者界面DNewExamWd","layout":null},"children":[]},{"data":{"id":"coiomvdepfc0","created":1669105826829,"text":"freeze","layout":null},"children":[{"data":{"id":"coionxnynkg0","created":1669105910185,"text":"NEW_PatientAndExam：新建患者、检查DTCDFileIf::NewPatientAndExam();","layout":null},"children":[{"data":{"id":"coiop989i2g0","created":1669106013721,"text":"重置全局变量中当前患者、检查SetCurrentPatientInfo()/SetCurrentExamInfo()","layout":null},"children":[]}]},{"data":{"id":"coioofe4le00","created":1669105948772,"text":"NEW_Exam：DTCDFileIf::NewExam()只新建检查","layout":null},"children":[]}]}]}]},{"data":{"id":"cvqs7f5gdko0","created":1695521489230,"text":"硬件交互","expandState":"expand","layout":null},"children":[{"data":{"id":"cvqtvztgoao0","created":1695526236067,"text":"初始化参数DGlobalData::InitDGlobalData()","layout":null},"children":[{"data":{"id":"cwadrbxmzy80","created":1697511931995,"text":"DGlobalData::InitDopAcq()根据当前检查项目配置加载血管信息DGlobalData::m_uDopAcq.m_DopAcq","layout":null},"children":[{"data":{"id":"cxajzjfveq00","created":1701185660348,"text":"通道1血管信息加载到0、1窗；\n通道2血管信息加载到2、3窗","layout":null},"children":[]}]}]},{"data":{"id":"d02ok4awvrk0","created":1711354553150,"text":"初始化硬件DDeviceCtrl::CreateQDeviceCtrl()"},"children":[{"data":{"id":"d02okjqftpk0","created":1711354586741,"text":"初始化硬件设备DDopScanParam"},"children":[{"data":{"id":"d02ort2ngrc0","created":1711355155620,"text":"驱动控制DTcd8100Usb"},"children":[]}]},{"data":{"id":"d02ol0e5ae80","created":1711354623003,"text":"初始化数据采集DDataRecv"},"children":[{"data":{"id":"d02oo46dxeo0","created":1711354866333,"text":"移入线程"},"children":[]}]},{"data":{"id":"d02ol6txie80","created":1711354637018,"text":"初始化数据处理类DDataProcess"},"children":[]}]},{"data":{"id":"cxldz6vlbp40","created":1702285865864,"text":"主界面初始化时，初始化硬件、开启线程\nDDeviceCtrl::InitUsbADBits()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cxle0vrfja00","created":1702285998396,"text":"在线程中执行：DDeviceCtrl::RunInitUSBAndGetADBits()","layout":null},"children":[{"data":{"id":"cxle1g2k2xs0","created":1702286042605,"text":"请求硬件ID：DDopScanParam::Dtcd8100_RequestTcdDeviceID()","layout":null},"children":[]},{"data":{"id":"cxle1h98rbc0","created":1702286045186,"text":" 线程挂起，暂停硬件DDeviceCtrl::SuspendThreads()","layout":null},"children":[]},{"data":{"id":"cxle42hkj480","created":1702286248130,"text":"解冻硬件DDeviceCtrl::UnFreeze()","layout":null},"children":[{"data":{"id":"cxle51i1u080","created":1702286324347,"text":"参数下发到硬件DDeviceCtrl::UpdateHw()","expandState":"expand","layout":null},"children":[{"data":{"id":"cyatas008000","created":1704868089415,"text":"DDopScanParam::WriteControlDataToUsb()"},"children":[]},{"data":{"id":"cxleg2h8ly80","created":1702287188480,"text":"DDopScanParam::AnalogDataImportSetup()模拟输入","layout":null},"children":[]}]},{"data":{"id":"cxlegzy6c880","created":1702287261338,"text":"重置线程参数DDeviceCtrl::ResumeThreads()","layout":null},"children":[{"data":{"id":"cxleh44rrl40","created":1702287270444,"text":"开启设备DDopScanParam::StartEzUsbIsoStream()","layout":null},"children":[]}]}]}]},{"data":{"id":"cxlespm04kg0","created":1702288179204,"text":"DDopScanParam::WriteControlDataToUsb()","expandState":"expand","layout":null},"children":[{"data":{"id":"cxleex4fv4w0","created":1702287098458,"text":"下发参数 *2","layout":null},"children":[]},{"data":{"id":"cxleevfdfq00","created":1702287094766,"text":"更新电压控制协议","layout":null},"children":[]},{"data":{"id":"cxlefcet9400","created":1702287131737,"text":"写入ABCD通道AMPL与GAIN控制协议","layout":null},"children":[]}]}]},{"data":{"id":"d02oqasnt3k0","created":1711355037469,"text":"采集开始NewDTCD::OnStart()"},"children":[{"data":{"id":"d02oqe3o41s0","created":1711355044665,"text":"2次请求TCD ID，激活硬件"},"children":[{"data":{"id":"d02ox5fxry00","created":1711355574365,"text":"DTcd8100Usb::RequestTcdDeviceID()"},"children":[{"data":{"id":"d02ox7xmvgg0","created":1711355579789,"text":"构建数据包，写入USB数据"},"children":[]}]}]},{"data":{"id":"d02rqp2w9vs0","created":1711363531893,"text":"开启AMPL功率自动调整"},"children":[]},{"data":{"id":"d0456yopki80","created":1711503041015,"text":"分支主题"},"children":[]},{"data":{"id":"d02oqhtybrc0","created":1711355052785,"text":"读取硬件数据DDataRecv::ReadData()"},"children":[]}]},{"data":{"id":"cvqsg0mf3680","created":1695522162882,"text":"解冻","layout":null},"children":[{"data":{"id":"cvqsqpwf6vk0","created":1695523001548,"text":"硬件解冻DDeviceCtrl::UnFreeze","layout":null},"children":[{"data":{"id":"cvqs9lbua600","created":1695521659405,"text":"更新硬件参数DDeviceCtrl::UpdateHw","layout":null},"children":[]}]}]},{"data":{"id":"cyasu0bhgeo0","created":1704866775332,"text":"界面参数调整后，下发硬件","layout":null},"children":[]}]},{"data":{"id":"cr8fb3kzzjs0","created":1679032390096,"text":"采集","expandState":"collapse","layout":null},"children":[{"data":{"id":"cs6hofj0t9c0","created":1682492115579,"text":"从硬件读取数据DDataRecv::ReadData()","expandState":"expand","layout":null},"children":[{"data":{"id":"cs6iajji14g0","created":1682493848326,"text":"每次申请读取100ms数据","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cs6iehwu7080","created":1682494158236,"text":"获取M波子阶数m_nAcqMmodeSubGates：61","layout":null},"children":[]},{"data":{"id":"cs6ieyy6qmo0","created":1682494195323,"text":"获取真实需读取字节数nActualBytesToRead：(采样率6250/50.0)*(M波子阶61+8)*16 = 138000","layout":null},"children":[{"data":{"id":"cs6j06biunk0","created":1682495857014,"text":"8个深度？","layout":null},"children":[]}]},{"data":{"id":"cs6ih0b0h400","created":1682494355004,"text":"数据存储结构体大小324","layout":null},"children":[{"data":{"id":"cs6ja7qwbc00","created":1682496643762,"text":"m_nParseDataLen初始化为324","layout":null},"children":[]}]}]},{"data":{"id":"cs6i98q0hr40","created":1682493746411,"text":"从盒子读取数据DDopScanParam::ReadGraphDataFromUsb()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cs6i9m1c79c0","created":1682493775394,"text":"pBufForRead \\ m_pRecvDataBuf","layout":null},"children":[]},{"data":{"id":"cs6il943o6g0","created":1682494687633,"text":"实际读取到的数据字节数nBytesRead","layout":null},"children":[]}]},{"data":{"id":"cs6hpzmc96w0","created":1682492237679,"text":"数据解析DDataRecv::Dtcd8100ParserData32Bit()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cs6ilxb0lxs0","created":1682494740294,"text":"npacketsRead当前能容纳多少个数据包","layout":null},"children":[]},{"data":{"id":"cs6jaf57lwg0","created":1682496659865,"text":"m_nParseDataLen待读取数据长度","layout":null},"children":[]},{"data":{"id":"cs6iu07chcw0","created":1682495373516,"text":"解析数据头","layout":null},"children":[{"data":{"id":"cs6j6schln40","created":1682496375147,"text":"UTcdDataHeader","layout":null},"children":[]}]},{"data":{"id":"cs6iu4b0lso0","created":1682495382445,"text":"解析数据","expandState":"expand","layout":null},"children":[{"data":{"id":"cs6hq4b95680","created":1682492247893,"text":"数据包类型判断m_TcdDataHeader.m_DataType","layout":null},"children":[{"data":{"id":"cs6hqn1cyag0","created":1682492288653,"text":"Data_TCD TCD数据解析","layout":null},"children":[]},{"data":{"id":"cs6hqqb2pyg0","created":1682492295771,"text":"Data_ANA_INPUT 模拟输入","layout":null},"children":[]},{"data":{"id":"cs6hr0usf6w0","created":1682492318731,"text":"Data_Device_ID 硬件ID","layout":null},"children":[]}]}]},{"data":{"id":"cs6j4rn07qw0","created":1682496216878,"text":"共m_nDataSize552个数据","expandState":"expand","layout":null},"children":[{"data":{"id":"cs6j519ix1k0","created":1682496237830,"text":"每次存入m_nSubGateDataSize = 子通道数*4 个数据","layout":null},"children":[{"data":{"id":"cs6j69sijtc0","created":1682496334757,"text":"UTcdDataHeader.m_nSubGateDataSize(子通道数据大小单个固定为 4）\nUTcdDataHeader.m_nDataSize所有子通道数据大小","layout":null},"children":[]}]},{"data":{"id":"cs6j2bb5fow0","created":1682496024604,"text":"将数据存入m_pDataXToSave32[256+8][MAX_NUM_OF_FFT_SIZE 512]","layout":null},"children":[{"data":{"id":"cs6j3pbwf4w0","created":1682496133488,"text":"8：2个通道*4单通道数据大小","layout":null},"children":[]}]}]},{"data":{"id":"cs6jdnba16o0","created":1682496912739,"text":"进行移动数据，保留未处理完毕的数据","layout":null},"children":[]}]},{"data":{"id":"cs6jgoyfqb40","created":1682497151408,"text":"DDataProcess::HandleSubscribeMessage数据采集处理","expandState":"expand","layout":null},"children":[{"data":{"id":"cr8faqkwq9s0","created":1679032361794,"text":"DDataProcess::DataProcDTCD8100()","layout":null},"children":[]}]}]},{"data":{"id":"cr8faqkwq9s0","created":1679032361794,"text":"DDataProcess::DataProcDTCD8100()","expandState":"expand","layout":null},"children":[{"data":{"id":"cow81dxbmoo0","created":1670480844838,"text":"m_dataItem.m_pDataPtr1、m_dataItem.m_pDataPtr2高通滤波之前的硬件采集原始数据\nm_dataItem.m_pDataPtr3、m_dataItem.m_pDataPtr4高通滤波之后的IQ路数据\nm_dataItem.m_nDataBlockCount数据块大小、单次USB上传总点数\nm_dataItem.m_nDataSubChCount阶数（92）=》换算到128阶","layout":null},"children":[]},{"data":{"id":"cucng1l5sew0","created":1690430061599,"text":"合法性","layout":null},"children":[]},{"data":{"id":"cucngavpg800","created":1690430081828,"text":"高通滤波DDataProcess::ProcHFAllData32Bit()","expandState":"expand","layout":null},"children":[]},{"data":{"id":"cucoh6bvawo0","created":1690432971396,"text":"写入数据缓冲DDataProcess::WriteDataBuf()：复制采集数据 至 原始数据缓冲","expandState":"expand","layout":null},"children":[{"data":{"id":"cucp656j2c80","created":1690434928000,"text":"TCD_CHN_MAX 256 = 128阶M波 * 2通道","layout":null},"children":[]},{"data":{"id":"cucp92wm66o0","created":1690435158140,"text":"short* pXData = (short*)m_dataItem.m_pDataPtr3;  //高通滤波后I路数据\nshort* pYData = (short*)m_dataItem.m_pDataPtr4;  //高通滤波后Q路数据","layout":null},"children":[]},{"data":{"id":"cow86dly45k0","created":1670481235971,"text":"FPGA M波92阶 m_dataItem.m_nDataSubChCount =》 转换为128阶M波","layout":null},"children":[]},{"data":{"id":"cow8471t5cg0","created":1670481064964,"text":"DDopplerCmd::GetDepthMmodeIndex()当前DOP深度对应到128阶M波的深度位置（实际的gate数映射）","layout":null},"children":[]},{"data":{"id":"cow82asewjs0","created":1670480916375,"text":"m_dataItem.m_pDataPtr3、m_dataItem.m_pDataPtr4中提取M波原始数据m_pDataXRaw、DOP数据m_pDataXDop、多深度数据m_pDataXMGate等","layout":null},"children":[]},{"data":{"id":"cvmj0krtlcw0","created":1695089323102,"text":"从M波提取数据写入m_pDataXDop","layout":null},"children":[]}]},{"data":{"id":"cucoznbnu140","created":1690434418943,"text":"M波计算","layout":null},"children":[]},{"data":{"id":"cucmi09zpzc0","created":1690427394366,"text":"多深度计算","layout":null},"children":[{"data":{"id":"cucmitwrcf40","created":1690427458869,"text":"nMGateFFTSize256","layout":null},"children":[]},{"data":{"id":"cucmjl8d3ww0","created":1690427518344,"text":"能量值m_pFFTMGateValue","layout":null},"children":[]},{"data":{"id":"cucmiad6am80","created":1690427416326,"text":"映射到颜色数据m_pMGateColor","layout":null},"children":[]}]},{"data":{"id":"cucmkeegj340","created":1690427581839,"text":"Dop计算","layout":null},"children":[{"data":{"id":"cucmlb3xzz40","created":1690427653037,"text":"DoDopFFT()","expandState":"expand","layout":null},"children":[{"data":{"id":"cucmknawjk80","created":1690427601215,"text":"nDopFftSize256","layout":null},"children":[]},{"data":{"id":"cucmrwog98g0","created":1690428170175,"text":"缓存DOP数据m_pDataFFTDop","layout":null},"children":[{"data":{"id":"cucmuamqjbs0","created":1690428357274,"text":"数据来源DOP原始数据m_pDataXDop","layout":null},"children":[]},{"data":{"id":"cucms5bzoaw0","created":1690428189012,"text":"将m_pDataFFTDop已有数据前移动nDeltaValue长度+新数据","layout":null},"children":[]}]},{"data":{"id":"cucmsa2a9w80","created":1690428199309,"text":"滤波mUFftDsp.SoundSmooth2()","layout":null},"children":[]},{"data":{"id":"cucmnplem1k0","created":1690427841296,"text":"FFT : mUFftDsp.FFT()","layout":null},"children":[]},{"data":{"id":"cucmkz5py3k0","created":1690427627023,"text":"计算能量值数据（FFT数据）m_pFFTDopValue","layout":null},"children":[]},{"data":{"id":"cucmkic3ggg0","created":1690427590403,"text":"映射到颜色数据m_pDopColor","layout":null},"children":[]}]}]},{"data":{"id":"cucoy2j72jc0","created":1690434295322,"text":"存储数据DDataProcess::DoSaveData()","expandState":"expand","layout":null},"children":[{"data":{"id":"cow9samd57c0","created":1670485774588,"text":"m_pDataXRaw每间隔4个写入dfs文件","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cow9svzlx3s0","created":1670485821101,"text":"int UTcdUnionFile::WriteDfsOneData()","layout":null},"children":[{"data":{"id":"cow9tdoz5go0","created":1670485859640,"text":"DWORD CMapFile::WriteByOffset()","layout":null},"children":[]},{"data":{"id":"cow9tps55yw0","created":1670485885953,"text":"累计字节数 大于FLUSH_BLOCK_SIZE 则将最后FLUSH_BLOCK_SIZE大小数据写入硬盘","layout":null},"children":[]}]}]},{"data":{"id":"cyrtvm3zdyo0","created":1706596241505,"text":"写入dfs文件","expandState":"expand"},"children":[{"data":{"id":"cyrubyl79lc0","created":1706597522495,"text":"分别写入2个通道的数据。\n写入顺序:  \nDop窗ch0dp0 X数据\nDop窗ch0dp0 Y数据\nDop窗ch0dp1 X数据\nDop窗ch0dp1 Y数据\nM波原始数据 X数据\nM波原始数据 Y数据"},"children":[]},{"data":{"id":"cyrulntr26o0","created":1706598282709,"text":"M波原始数据写入"},"children":[{"data":{"id":"cyrum9v0duw0","created":1706598330674,"text":"若勾选了保存M波原始数据：M波数据有m_nMmodeRawChannelNum = 64/2组XY数据。\n若未勾选保存M波原始数据，此处m_nMmodeRawChannelNum=0则不写入M波数据到dfs中。"},"children":[{"data":{"id":"cyrur6bb99c0","created":1706598714773,"text":"但在采集时，M波原始数据在buf中存在，可获取对应深度数据"},"children":[]}]},{"data":{"id":"cyrunmzoz6w0","created":1706598437619,"text":"从m_pDataXRaw、m_pDataYRaw中获取原始数据"},"children":[]}]}]}]},{"data":{"id":"cr8fclhweyw0","created":1679032507455,"text":"NewDTCD::HandleSubscribeMessage()","layout":null},"children":[{"data":{"id":"cr8gaigv5400","created":1679035165244,"text":"m_UProcess采集过程中数据记录","layout":null},"children":[]},{"data":{"id":"cr8fcxtqmb40","created":1679032534292,"text":"dop窗更新DDOPWndManager::UpdateSpectrum()","layout":null},"children":[{"data":{"id":"cr8fdnlufyo0","created":1679032590411,"text":"DDOPWnd::UpdateSpectrum()","layout":null},"children":[{"data":{"id":"cr8i2g583og0","created":1679040175493,"text":"指数计算ProcDopIndex()","layout":null},"children":[]},{"data":{"id":"cr8fdp5mb8o0","created":1679032593784,"text":"每秒请求指数窗口刷新DDOPIndexWnd::UpdateDopIndexWin()","layout":null},"children":[]}]}]},{"data":{"id":"cr8i1yex53k0","created":1679040136897,"text":"采集暂停时重新计算指数DDopWndData::ReCalcIndex()","layout":null},"children":[]}]}]}]},{"data":{"id":"coujpj4giwg0","created":1670310649189,"text":"回放","expandState":"collapse","layout":null},"children":[{"data":{"id":"chdr9xkycow0","created":1643012367370,"text":"加载检查","layout":null,"expandState":"expand"},"children":[{"data":{"id":"chfg86fcaao0","created":1643184317598,"text":"当前屏数据的开始位置：相对于整条记录。如整条记录4s，第一屏开始位置fpercent=0","layout":null},"children":[]}]},{"data":{"id":"ciq9gl2gcm00","created":1647938546578,"text":"play","layout_mind_offset":{"x":-41,"y":-64},"layout":null,"expandState":"expand"},"children":[{"data":{"id":"ciq9hef540g0","created":1647938610472,"text":"DDataReview::Play()","expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9hipu1jk0","created":1647938619825,"text":"DDataReview::PlayContinuously()","expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9itwuu9s0","created":1647938722559,"text":"DReadFileThread::ResumeThread()","expandState":"expand","layout":null},"children":[]},{"data":{"id":"ciq9jn4dwnk0","created":1647938786141,"text":"DReadFileThread::DoWork ()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"ciq9n36yoio0","created":1647939056218,"text":"读取一屏数据","expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9k2i2rjc0","created":1647938819620,"text":"读取一列数据（8ms）：DReadFileThread::ReadOneColumnData(bool bReadData) * )","note":null,"layout":null},"children":[{"data":{"id":"ciq9kc4etls0","created":1647938840562,"text":"DTcdUnionFile::ReadDfsOneData()","layout":null},"children":[{"data":{"id":"ciq9ptn4fl40","created":1647939270519,"text":"从buf中读取，m_nDopXYRead","layout":null},"children":[]}]},{"data":{"id":"ciq9l3r8gow0","created":1647938900715,"text":"DTcdUnionFile::ReadTCDOneData()","layout":null},"children":[]},{"data":{"id":"ciq9kw7tf8w0","created":1647938884303,"text":"绘图pProc->HandleSubscribeMessage(&m_uMsg);","layout":null},"children":[]}]},{"data":{"id":"ciq9okid2mg0","created":1647939172276,"text":"一列数据 = 8ms = FFT LEN128(block) = 1次FFT","layout":null},"children":[{"data":{"id":"cniskfar3tc0","created":1665460761111,"text":"1FFTLEN = 256个合并后的采样点","layout":null},"children":[]}]},{"data":{"id":"ciq9nj5of7s0","created":1647939090968,"text":"一屏需读取sweep 4000 / 8 次","layout":null},"children":[]},{"data":{"id":"ciq9tqw7u9c0","created":1647939577996,"text":"若一屏数据不足，读取到结尾","layout":null},"children":[]}]},{"data":{"id":"ciq9nbu1ctk0","created":1647939075027,"text":"读取完一屏数据后， 更新起始页时间，进度条位置更新，开始读取下一屏数据","layout":null},"children":[]},{"data":{"id":"ciq9v9uuhf40","created":1647939697636,"text":"读取完成后，跳转回开头","layout":null},"children":[]}]}]}]}]},{"data":{"id":"ciq9vk3kyv40","created":1647939719932,"text":"下一页","layout_mind_offset":{"x":359,"y":827},"expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9wn75nvk0","created":1647939805042,"text":"DDataReview::NextPage()","layout":null},"children":[{"data":{"id":"ciq9wwynoyo0","created":1647939826296,"text":"DDataReview::Jump()","layout":null},"children":[{"data":{"id":"ciq9x83iktc0","created":1647939850535,"text":"设置待显示页的记录时间及页时间","layout":null},"children":[]},{"data":{"id":"ciqa0vvo6ww0","created":1647940137396,"text":"设置页数据起始列m_nStartBlockIndex（最后一个在passtime之前的事件）","layout":null},"children":[{"data":{"id":"ciqa4vkuwzc0","created":1647940450198,"text":"dfs数据列读取开始位置","layout":null},"children":[]}]},{"data":{"id":"ciq9xpsooo80","created":1647939889062,"text":"DReadFileThread::ResumeThread()","layout":null},"children":[]},{"data":{"id":"ciq9xljnpqo0","created":1647939879809,"text":"设置页数据起始列","layout":null},"children":[]},{"data":{"id":"ciq9xruewh40","created":1647939893520,"text":"DReadFileThread::DoWork ()","layout":null},"children":[{"data":{"id":"ciq9z4enn740","created":1647939999229,"text":"读取一屏数据","expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9z0brnuo0","created":1647939990348,"text":"DReadFileThread::ReadOneColumnData(bool bReadData) * )","layout":null},"children":[]}]},{"data":{"id":"ciq9zx8fvgw0","created":1647940061980,"text":"一屏数据读取完成后","expandState":"expand","layout":null},"children":[{"data":{"id":"ciq9z83adnk0","created":1647940007249,"text":"emit emit_UpdatePageUI","layout":null},"children":[]}]}]}]}]}]},{"data":{"id":"ciq9u8ue1pk0","created":1647939617067,"text":"快进","layout_mind_offset":{"x":356,"y":316},"layout":null},"children":[]},{"data":{"id":"ct091ckp5mg0","created":1685514536595,"text":"声音导出","layout":null},"children":[{"data":{"id":"ct091h664sw0","created":1685514546600,"text":"DDopSoundExport::WaveExport()","layout":null},"children":[]}]}]},{"data":{"id":"ckul1stxqgw0","created":1655689798040,"text":"声谱图","expandState":"collapse","layout":null},"children":[{"data":{"id":"ckul1vvixnk0","created":1655689804667,"text":"1. 随dop窗口new manager 2. manager管理wnd","layout":null},"children":[{"data":{"id":"ckul3jmihyw0","created":1655689934729,"text":"painter","layout":null},"children":[]},{"data":{"id":"ckul3lqpdn40","created":1655689939336,"text":"graph","expandState":"expand","layout":null},"children":[{"data":{"id":"ckul3nssh5s0","created":1655689943815,"text":"curve","layout":null},"children":[]}]}]},{"data":{"id":"ckul202qzhc0","created":1655689813811,"text":"初始化wnd","layout_mind_offset":{"x":436,"y":130},"layout":null},"children":[{"data":{"id":"ckul49qsls00","created":1655689991585,"text":"    m_pGraph->SetRange(0.3, -100, 100);  // double dTime单位(S)  总时长, double dMin, double dMax","layout":null},"children":[]},{"data":{"id":"ckum29xp9l40","created":1655692656383,"text":"m_pGraph->AddCurve(QColor(255, 255, 255)); 初始化曲线 ","layout":null},"children":[{"data":{"id":"ckum318nuzk0","created":1655692715819,"text":"new curve","layout":null},"children":[]},{"data":{"id":"ckum3m47w7c0","created":1655692761263,"text":"SetColor(QColor cor)","layout":null},"children":[]},{"data":{"id":"ckum3qyalm00","created":1655692771788,"text":"SetRange(double dTime, double dMin, double dMax)","layout":null},"children":[]},{"data":{"id":"ckum3uy9eg00","created":1655692780494,"text":"SetLen(int nLen)  横轴像素","layout":null},"children":[{"data":{"id":"ckumeyhcj340","created":1655693650184,"text":"resize后改变数据清空，需重绘","layout":null},"children":[]}]},{"data":{"id":"ckum4npeysw0","created":1655692843085,"text":"加入曲线列表","layout":null},"children":[]}]},{"data":{"id":"ckum2fjzsm00","created":1655692668615,"text":"m_pGraph->Curve(0)->SetSampleRate(125 * 50);  // nFs","layout":null},"children":[{"data":{"id":"ckumai8enu00","created":1655693301358,"text":"一次采样占多少像素dPerDataIndex width/(t/sample)","layout":null},"children":[]}]}]},{"data":{"id":"ckumin9ryq80","created":1655693939238,"text":"绘制声谱图","layout":null,"expandState":"expand"},"children":[{"data":{"id":"ckunqrap8mw0","created":1655697396024,"text":"运行中，UpdateSpectrum更新图谱（随dop窗口）","layout":null},"children":[{"data":{"id":"ckunqvri6s00","created":1655697405748,"text":"取dop原始数据pProcess->m_pRawDop","layout":null},"children":[]},{"data":{"id":"ckunrcrjmq00","created":1655697442755,"text":"数据长度pProcess->m_nDopDeltaLen","layout":null},"children":[]},{"data":{"id":"ckupuqdj6hk0","created":1655703349695,"text":"数据点加入曲线","layout":null},"children":[]}]},{"data":{"id":"ckupt8gxne00","created":1655703232355,"text":"静止","expandState":"expand","layout":null},"children":[{"data":{"id":"ckumisnldio0","created":1655693950957,"text":"获取数据SetSoundStoreCusorPos","layout":null},"children":[{"data":{"id":"ckumjkmpr9s0","created":1655694011854,"text":"dop获取开始、结束位置，从文件中读取对应位置的数据","layout":null},"children":[{"data":{"id":"ckumq9vy1dc0","created":1655694537017,"text":"获取一屏扫描时间","layout":null},"children":[]},{"data":{"id":"ckumv874f6g0","created":1655694925160,"text":"获取FFT长度","expandState":"expand","layout":null},"children":[{"data":{"id":"ckumt9uoee80","created":1655694772033,"text":"高通滤波","layout":null},"children":[]},{"data":{"id":"ckumtavzicg0","created":1655694774289,"text":"血流方向","layout":null},"children":[]},{"data":{"id":"ckumtecesfc0","created":1655694781812,"text":"通道采样率","layout":null},"children":[]},{"data":{"id":"ckumyknx6080","created":1655695187390,"text":"FFT长度：采样率/125","layout":null},"children":[{"data":{"id":"ckun3u91qi00","created":1655695600079,"text":"多少个采样点合并成1个","layout":null},"children":[]}]}]},{"data":{"id":"ckumyokbylc0","created":1655695195880,"text":"fft开始位置（偏移位置）","layout":null},"children":[{"data":{"id":"ckumyxt8ma80","created":1655695216009,"text":"FFT时间反向存，故只需剪掉endindex后的部分","layout":null},"children":[]}]},{"data":{"id":"ckun0lzsoxc0","created":1655695347013,"text":"fft宽度个数","layout":null},"children":[]},{"data":{"id":"ckun4agfxqo0","created":1655695635355,"text":"从dfs文件中读取对应位置数据点，加入曲线","layout":null},"children":[{"data":{"id":"ckun5572ai80","created":1655695702268,"text":"一次采样占多少像素dPerDataIndex","layout":null},"children":[]},{"data":{"id":"ckun5uoh2f40","created":1655695757740,"text":"对width上的每个像素点计算值","layout":null},"children":[{"data":{"id":"ckunfgaoke80","created":1655696510073,"text":"不到1个像素的fft点，累积","layout":null},"children":[]},{"data":{"id":"ckupwpxus9c0","created":1655703505476,"text":"调整位置，像素点之间连续，不断层","layout":null},"children":[{"data":{"id":"ckupy5bj6l40","created":1655703617319,"text":"localmin\\localmax保存上一像素点","layout":null},"children":[]}]}]}]}]},{"data":{"id":"ckumiya1m480","created":1655693963199,"text":"resize","layout":null},"children":[]},{"data":{"id":"ckumjff3yds0","created":1655694000510,"text":"快照编辑显示：从已读取的声音数组中获取","layout":null},"children":[]}]},{"data":{"id":"ckupv1xafyg0","created":1655703374834,"text":"绘图paintevent","layout":null},"children":[{"data":{"id":"ckupv3ay0rs0","created":1655703377837,"text":"painter：DrawGrid(pPaint, pGraph); ","layout":null},"children":[]},{"data":{"id":"ckupw0sceeg0","created":1655703450723,"text":"painter：DrawScale(pPaint, pGraph);","layout":null},"children":[]},{"data":{"id":"ckupw2aot140","created":1655703454009,"text":"painter：DrawCurve(pPaint, pGraph);","layout":null},"children":[]},{"data":{"id":"ckupw4bisso0","created":1655703458413,"text":"painter：DrawMeasureLine(pPaint, pGraph);","layout":null},"children":[]}]}]}]}]},{"data":{"id":"cyat7tp0ht40","created":1704867858011,"text":"Dop参数指数","expandState":"collapse","layout":null},"children":[{"data":{"id":"cvl13cu3trs0","created":1694937200983,"text":"NewDTCD::InitMainUICtrl()","layout":null},"children":[{"data":{"id":"cvl1c4c88080","created":1694937887765,"text":"DDOPWndManager::DDOPWndManager()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cvl1ce3hih40","created":1694937909004,"text":"DDOPWndManager::CreatDopWnd()","expandState":"expand","layout":null},"children":[]},{"data":{"id":"cvl1cu3asfk0","created":1694937943822,"text":"DDopWndData::InitDopWndData()","expandState":"expand","layout":null},"children":[{"data":{"id":"cvl1h7i4sm80","created":1694938286473,"text":"DDopWndData::SetDopSpectrumData()","layout":null},"children":[]},{"data":{"id":"cvl21ghejds0","created":1694939873304,"text":"DDopplerCmd::GetAcqDopBloodParam()：m_DopAcq.m_ScanParam[]","layout":null},"children":[{"data":{"id":"cvl25rnevk80","created":1694940211068,"text":"设置到DDopWndData::m_ScanParam","layout":null},"children":[]}]},{"data":{"id":"cve8x57wchk0","created":1694248363400,"text":"初始化加载参数列表DDopWndData::InitParamList()","layout":null},"children":[]}]}]},{"data":{"id":"cvl150ys9l40","created":1694937331873,"text":"DSnapshotWnd::DSnapshotWnd()","layout":null},"children":[{"data":{"id":"cvl15kvuwrs0","created":1694937375231,"text":"DDopWndData::SetReviewMode()","layout":null},"children":[{"data":{"id":"cvl16mr22io0","created":1694937457659,"text":"DDOPParamWnd::UpdateScanParmWin()","layout":null},"children":[]}]}]}]},{"data":{"id":"cwady2bz82o0","created":1697512459644,"text":"更新加载参数NewDTCD::LayoutUI()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cwadygpb47k0","created":1697512490925,"text":"DDopParamComboManager::LoadBloodParam()","layout":null},"children":[{"data":{"id":"cwadyp1q11k0","created":1697512509090,"text":"DDopWndData::SetBloodParam()","layout":null},"children":[{"data":{"id":"cwadznftxjs0","created":1697512583953,"text":"DDopWndData::UpdateBloodParmValue()","expandState":"expand","layout":null},"children":[{"data":{"id":"cw5axxy2a5k0","created":1696996186982,"text":"更新探头显示，判断CW：DDOPParamWnd::UpdateDopParamShow()","layout":null},"children":[]}]}]}]}]},{"data":{"id":"cvqtua9s8s00","created":1695526102094,"text":"参数调整（滚轮）：DDOPParamWnd::wheelEvent","expandState":"expand","layout":null},"children":[{"data":{"id":"cvqtugcrwh40","created":1695526115335,"text":"DDopParamManage::ParamManage()","layout":null},"children":[{"data":{"id":"cvqtyq3ahr40","created":1695526449986,"text":"事件写入","layout":null},"children":[]},{"data":{"id":"cvqu10xiscw0","created":1695526630310,"text":"Radio","layout":null},"children":[]},{"data":{"id":"cvsmtmawlnk0","created":1695709422063,"text":"SCALE：DDopParamManage::ScaleChange()","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cvtgq36hwag0","created":1695793778642,"text":"获取当前采样频率序号pBlood->m_nSampleFreqIndex","layout":null},"children":[]},{"data":{"id":"cvtgqa32vsw0","created":1695793793673,"text":"根据最新采样率判断是否处于最大深度范围内","layout":null},"children":[{"data":{"id":"cvtgqpiw91s0","created":1695793827281,"text":"根据pBlood->m_nProbeID，pBlood->m_fGate获取sv","layout":null},"children":[]},{"data":{"id":"cvtgrb6xyqo0","created":1695793874447,"text":"根据探头ID、sv、采样频率序号获取最大深度","layout":null},"children":[]},{"data":{"id":"cvti38afiu00","created":1695797629608,"text":"自动修改探头频率","layout":null},"children":[]}]}]},{"data":{"id":"cvsmtts9do00","created":1695709438350,"text":"DEPTH","layout":null},"children":[]},{"data":{"id":"cvsmtxzqy6w0","created":1695709447509,"text":"GAIN","layout":null},"children":[{"data":{"id":"cvsmy04tpiw0","created":1695709765627,"text":"从DDopplerCmd::GetAcqDopBloodParam获取原始值","layout":null},"children":[]},{"data":{"id":"cvsmzcygo200","created":1695709871904,"text":"根据滚动方向计算新值，并写入DDopWndData::SetBloodParam","layout":null},"children":[{"data":{"id":"cvsmzj7o7yo0","created":1695709885522,"text":"DDOPWndData::UpdateBloodParmValue()","layout":null},"children":[{"data":{"id":"cvsn567kiz40","created":1695710327403,"text":"设置界面显示值DDOPParamWnd::UpdateDopParamShow()","layout":null},"children":[]}]}]},{"data":{"id":"cvsnamzdr080","created":1695710755734,"text":"DDopParamComboManager::OnDopParamChange()","layout":null},"children":[{"data":{"id":"cvsnfw6w7j40","created":1695711167600,"text":"UMiscData::SetDopGainRange()：根据pBlood->m_nGain, pBlood->m_nRange设置m_pfDopMapNode（后续数据处理时映射到颜色中使用）","layout":null},"children":[]}]}]},{"data":{"id":"cvsmu2mz5i80","created":1695709457621,"text":"GATE","layout":null},"children":[]},{"data":{"id":"cvsmu6xium80","created":1695709466966,"text":"AMPL","layout":null},"children":[{"data":{"id":"cvtjg61i5c00","created":1695801464559,"text":"DDopParamManage::AmplChange()","layout":null},"children":[{"data":{"id":"cvtjg9n7pd40","created":1695801472402,"text":"计算新值","layout":null},"children":[]},{"data":{"id":"cvtjn7ulq3k0","created":1695802017044,"text":"根据探头判断最大值","layout":null},"children":[]}]}]},{"data":{"id":"cvsmuc5illc0","created":1695709478333,"text":"PROBE","layout":null},"children":[{"data":{"id":"cvsnykssfyw0","created":1695712631721,"text":"DDopParamManage::ProbeChange()","expandState":"expand","layout":null},"children":[{"data":{"id":"cvtjenhnpu00","created":1695801345812,"text":"计算新值，考虑可用值范围","layout":null},"children":[]},{"data":{"id":"cw67yahiobk0","created":1697089310907,"text":"如果单通道采集时，正在记录或记录过数据（即事件列表有信息），则:\n1：探头不能从1.6或2.0切换至4.0或8.0。 2：探头4.0或8.0探头不能切换至其他探头","layout":null},"children":[]},{"data":{"id":"cw6bslranxs0","created":1697100149697,"text":"DDOPWndData::SetBloodParam()","layout":null},"children":[{"data":{"id":"cvsnyo1u3gg0","created":1695712638799,"text":"更新参数DDopWndData::m_ScanParam","layout":null},"children":[]},{"data":{"id":"cw6btl5i8hc0","created":1697100226744,"text":"DDOPWndData::UpdateBloodParmValue()","expandState":"expand","layout":null},"children":[{"data":{"id":"cw6btyszrm00","created":1697100256462,"text":"根据探头ID重新获取探头频率值","layout":null},"children":[]},{"data":{"id":"cw68hm4ld1k0","created":1697090825166,"text":"更新界面显示","layout":null},"children":[{"data":{"id":"cw68htyrx3k0","created":1697090842228,"text":"DDOPParamWnd::UpdateDopParamShow()","layout":null},"children":[]}]}]}]}]},{"data":{"id":"cvsnyhcbyw00","created":1695712624196,"text":"DDopParamComboManager::OnDopParamChange()","layout":null},"children":[{"data":{"id":"cvsnyo1u3gg0","created":1695712638799,"text":"更新参数DDopWndData::m_ScanParam","layout":null},"children":[]},{"data":{"id":"cw68hm4ld1k0","created":1697090825166,"text":"更新界面显示","layout":null},"children":[{"data":{"id":"cw68htyrx3k0","created":1697090842228,"text":"DDOPParamWnd::UpdateDopParamShow()","layout":null},"children":[]}]}]}]},{"data":{"id":"cvsmuk4qr200","created":1695709495701,"text":"SWEEP","layout":null},"children":[]},{"data":{"id":"cvsmum4ldww0","created":1695709500045,"text":"RANGE","layout":null},"children":[]},{"data":{"id":"cvsmuqgpb6o0","created":1695709509485,"text":"POWER","layout":null},"children":[]},{"data":{"id":"cvsmuuet36o0","created":1695709518077,"text":"HPF","layout":null},"children":[]}]}]}]},{"data":{"id":"cxajmga43pc0","created":1701184634735,"text":"Dop窗血流方向","expandState":"collapse","layout":null},"children":[{"data":{"id":"cqvqr60ufxc0","created":1677744402007,"text":"DDOPWnd::SetBloodDirection()","layout":null},"children":[{"data":{"id":"cqvqych564w0","created":1677744964602,"text":"GetDfsData读取数据文件","layout":null},"children":[]},{"data":{"id":"cqvqyfvujpk0","created":1677744972022,"text":"每一列数据FFT","layout":null},"children":[]},{"data":{"id":"cqvqyvnvqqg0","created":1677745006369,"text":"更新频谱","expandState":"expand","layout":null},"children":[{"data":{"id":"cqvqr83141s0","created":1677744406493,"text":"BuildDibDataFromRgbArray()","layout":null},"children":[]}]}]}]},{"data":{"id":"cxajmvizigg0","created":1701184667924,"text":"Dop窗量程","expandState":"collapse","layout":null},"children":[{"data":{"id":"cwt28sf5zmw0","created":1699409085932,"text":"m_nShowDot","layout":null},"children":[{"data":{"id":"cwt28vjw6000","created":1699409092748,"text":"kHz","layout":null},"children":[{"data":{"id":"cwt296gujo00","created":1699409116509,"text":"采样频率 > 10000: == 1","layout":null},"children":[]},{"data":{"id":"cwt29qk0bqo0","created":1699409160236,"text":"采样频率 <= 10000: ==2","layout":null},"children":[]}]},{"data":{"id":"cwt291jxr400","created":1699409105812,"text":"cms","layout":null},"children":[{"data":{"id":"cwt294uvy8o0","created":1699409113004,"text":"==0","layout":null},"children":[]}]}]},{"data":{"id":"cwt2b8po1x40","created":1699409278124,"text":"DScaleDef: \nfloat m_fGraduationByValue; // 每个刻度之间的分析范围：m_fRange / 8\nfloat m_fGraduationByPixel; // 每个刻度之间的像素：窗口高度 / 8\nfloat m_fRange;  // 分析范围\nfloat m_fStartValue;  // M波起始深度\nint   m_nSampleFreq;\nint   m_nScaleThickness;","layout":null},"children":[]},{"data":{"id":"cwt2hroqyvs0","created":1699409789612,"text":"快照量程改变","layout":null},"children":[{"data":{"id":"cwt2hueaqn40","created":1699409795511,"text":"DSnapshotWnd::OnSetConfigToDop()","layout":null},"children":[{"data":{"id":"cwt2hvxmw9s0","created":1699409798857,"text":"DDopWndData::SetBloodParam()","layout":null},"children":[{"data":{"id":"cwt2i4qnpow0","created":1699409818026,"text":"DDopVerticalScaleWnd::UpdateDopVScaleWin()","layout":null},"children":[]}]}]}]},{"data":{"id":"cwt26iotjvk0","created":1699408908020,"text":"DVerticalScaleCtrl::paintEvent()","layout":null},"children":[{"data":{"id":"cwt26kdtchs0","created":1699408911708,"text":"DVerticalScaleCtrl::DrawVerticalScale()","layout":null},"children":[]}]}]},{"data":{"id":"cw4jerbqej40","created":1696918513685,"text":"Dop图谱单位改变","expandState":"collapse","layout":null},"children":[{"data":{"id":"cxajpf8kiqo0","created":1701184867558,"text":"设置界面切换","expandState":"expand","layout":null},"children":[{"data":{"id":"cw4jf6donsg0","created":1696918546454,"text":"设置项变更、保存","layout":null,"expandState":"expand"},"children":[{"data":{"id":"cw4jfjk9mlc0","created":1696918575150,"text":"NewDTCD::UISetup_Spectrum()","layout":null},"children":[{"data":{"id":"cw4jgnnztls0","created":1696918662447,"text":"更新到DGlobalData::GetInstance()->GetUDopAcq()->m_DopAcq.DopSpectrumConfig","layout":null},"children":[]},{"data":{"id":"cw4jhn6ljxs0","created":1696918739759,"text":"设置到DDOPWndManager::SetDopSpectrumData()","layout":null},"children":[{"data":{"id":"cw4ji45f7kw0","created":1696918776694,"text":"DDopWndData::SetDopSpectrumData()","expandState":"expand","layout":null},"children":[{"data":{"id":"cw4jiza3r280","created":1696918844457,"text":"DDopWndData::m_DopSpectrum.nFlagType","layout":null},"children":[]},{"data":{"id":"cw4jj01fsco0","created":1696918846110,"text":"DDopWndData::m_ScanParam.m_nUnitType","layout":null},"children":[]},{"data":{"id":"cw4jjporico0","created":1696918901940,"text":"更新标尺DDopVerticalScaleWnd::UpdateDopVScaleWin()","layout":null},"children":[]}]}]},{"data":{"id":"cw4jlkh2f540","created":1696919047319,"text":"更新所有窗口血管参数dopCmd.GetAcqDopBloodParam()","layout":null},"children":[{"data":{"id":"cw4k5kty7ag0","created":1696920615381,"text":"pGlobal->GetUDopAcq()->m_DopAcq.m_ScanParam","layout":null},"children":[]}]}]},{"data":{"id":"cw4ju3568eg0","created":1696919714872,"text":"标尺更新DDopVerticalScaleWnd::UpdateDopVScaleWin()","layout":null},"children":[{"data":{"id":"cw4ju5ibpo80","created":1696919720021,"text":"根据DDopWndData::m_DopSpectrum.nFlagType判断单位类型","layout":null},"children":[]}]}]}]},{"data":{"id":"cxajqds5fw00","created":1701184942752,"text":"Dop窗切换","layout":null},"children":[]}]},{"data":{"id":"cxegejh3ujk0","created":1701581791272,"text":"Dop窗测量","expandState":"collapse","layout":null},"children":[{"data":{"id":"cxegergdtu00","created":1701581808643,"text":"添加测量点DDopPointManage::AddPointCaliber()","layout":null},"children":[{"data":{"id":"cxegfdrk36w0","created":1701581857208,"text":"判断测量类型","layout":null},"children":[]},{"data":{"id":"cxegg63qli80","created":1701581918894,"text":"测量标签Label的尺寸","layout":null},"children":[]},{"data":{"id":"cxeggtd3jwo0","created":1701581969526,"text":"已有测量点中是否存在单身，若存在则设置为当前测量点的兄弟","layout":null},"children":[]},{"data":{"id":"cxegkjz7ioo0","created":1701582262552,"text":"计算测量点位置DDopPointManage::ReCalcCaliber()","layout":null},"children":[]},{"data":{"id":"cxegks3qqf40","created":1701582280240,"text":"获取khz和cm/s对应值","layout":null},"children":[{"data":{"id":"cxeh0vbmgww0","created":1701583541074,"text":"bFirstOpen","layout":null},"children":[{"data":{"id":"cxeh0x4u7so0","created":1701583545017,"text":"false","layout":null},"children":[{"data":{"id":"cxeh11rpc200","created":1701583555107,"text":"计算每个纵轴每个格子对应的khz、cms表示长度","layout":null},"children":[]}]},{"data":{"id":"cxeh0yqvn540","created":1701583548526,"text":"true","layout":null},"children":[]}]}]},{"data":{"id":"cxeh48w0j8o0","created":1701583805697,"text":"模拟【点击释放】触发指数更新","layout":null},"children":[{"data":{"id":"cxeh4vcmixc0","created":1701583854591,"text":"DDOPIndexWnd::UpdataPointCaliber()","layout":null},"children":[]}]}]},{"data":{"id":"cxeh7fjs4rk0","created":1701584055288,"text":"指数更新计算DDOPIndexWnd::UpdataPointCaliber()","layout":null},"children":[{"data":{"id":"cxeh7jcnl8g0","created":1701584063564,"text":"获取cms、khz","layout":null},"children":[]},{"data":{"id":"cxeh87khne00","created":1701584116280,"text":"更新选中状态","layout":null},"children":[]},{"data":{"id":"cxehd1zso7c0","created":1701584495966,"text":"测量点成对时，计算指数值","layout":null},"children":[{"data":{"id":"cxehdhjevog0","created":1701584529804,"text":"只有单位为cm/s才更新指数","layout":null},"children":[]},{"data":{"id":"cxehhwt952w0","created":1701584876507,"text":"判断测量点计算类型：同侧、异侧","layout":null},"children":[]},{"data":{"id":"cxehjfor1ig0","created":1701584995958,"text":"计算各指数值","layout":null},"children":[]},{"data":{"id":"cxehlk522vk0","created":1701585162379,"text":"单位为khz，异侧测量点，测量点位于基线上等其它情况时，指数值为上一组测量点的值","layout":null},"children":[]}]}]}]},{"data":{"id":"cxajqnd2f1c0","created":1701184963608,"text":"二级菜单界面切换双窗口","expandState":"collapse","layout":null},"children":[{"data":{"id":"cw4jkzitsf40","created":1696919001713,"text":"NewDTCD::DoubleWindowsState()","layout":null},"children":[{"data":{"id":"cw4jl2knv280","created":1696919008354,"text":"重新布局","layout":null},"children":[]},{"data":{"id":"cw4jmtxlckg0","created":1696919146273,"text":"从设置界面-检查项目页血管配置重新载入血管信息DDopplerCmd::SetBloodParamToDop()","priority":null,"progress":null,"note":null,"layout":null},"children":[{"data":{"id":"cw4jnw7ruso0","created":1696919229606,"text":"设置到dopCmd.GetAcqDopBloodParam()中","note":null,"layout":null},"children":[{"data":{"id":"cw4jpzaqd6w0","created":1696919393044,"text":"重新读取血管配置，图谱单位等的改变被覆盖？？？","priority":null,"progress":null,"layout":null},"children":[]}]}]},{"data":{"id":"cw4jmwg17hs0","created":1696919151742,"text":"修改探头参数DDopParamComboManager::LoadBloodParam()","layout":null},"children":[{"data":{"id":"cw4jrndhomo0","created":1696919523818,"text":"获取血管参数dopCmd.GetAcqDopBloodParam(0,0)设置到DDopWndData::m_ScanParam","layout":null},"children":[{"data":{"id":"cw4jtmpbx1k0","created":1696919679085,"text":"更新标尺DDopVerticalScaleWnd::UpdateDopVScaleWin()","layout":null},"children":[]}]},{"data":{"id":"cw4k9uf4od40","created":1696920949709,"text":"获取血管参数dopCmd.GetAcqDopBloodParam(0,0)设置到DDopWndData::m_DopSpectrum.nFlagType","layout":null},"children":[]}]}]}]},{"data":{"id":"cyavwxdlsoo0","created":1704875467352,"text":"事件"},"children":[]},{"data":{"id":"czsetcorv7s0","created":1710311466014,"text":"模拟输入","expandState":"collapse"},"children":[{"data":{"id":"czseth7fti80","created":1710311475850,"text":"设置"},"children":[{"data":{"id":"czsf1i44c140","created":1710312104740,"text":"表格栏DDragTableWidget"},"children":[]},{"data":{"id":"czsetj8gs540","created":1710311480266,"text":"初始化KFunctionSetupDlg::InitAnaInputParameters()"},"children":[]},{"data":{"id":"czseubziqy80","created":1710311542852,"text":"KFunctionSetupDlg::InitRangeWd()更新量程窗"},"children":[{"data":{"id":"czsewajod5c0","created":1710311696445,"text":"量程窗：DRangeWdCrtl::InitParameters()"},"children":[{"data":{"id":"czsewc46bpk0","created":1710311699861,"text":"行：DRangeCtrl::InitParameters()"},"children":[{"data":{"id":"czsf69kgdww0","created":1710312477957,"text":"DRangeListWidget"},"children":[]}]}]}]}]}]},{"data":{"id":"czxklqxswkg0","created":1710835596565,"text":"趋势图"},"children":[{"data":{"id":"czxklsd79xc0","created":1710835599673,"text":"回放单击跳转"},"children":[{"data":{"id":"czxklxrbfa80","created":1710835611410,"text":"DCurveWd::mousePressEvent()"},"children":[{"data":{"id":"czxkm7nvs280","created":1710835632970,"text":"emit sig_Jump(percent)"},"children":[{"data":{"id":"czxkmiva0ug0","created":1710835657362,"text":"DTrendWd::slotJump()"},"children":[]}]}]}]},{"data":{"id":"czxm1g81iow0","created":1710839648177,"text":"事件跳转"},"children":[{"data":{"id":"czxm52k8n540","created":1710839931895,"text":"获取事件对应的passtime"},"children":[{"data":{"id":"czxm5g6lcgg0","created":1710839961545,"text":"若为系统事件，且大于等于采集时间时（REOFF事件等），passtime往前推半帧时间（6s/2）"},"children":[]}]},{"data":{"id":"czxm3m5midc0","created":1710839817819,"text":"设置趋势图数据","expandState":"expand"},"children":[{"data":{"id":"czxm1vcnue80","created":1710839681107,"text":"获取RECON事件的时间，即当前检查数据的开始时间"},"children":[{"data":{"id":"czxm836emiw0","created":1710840168328,"text":"不考虑分段数据"},"children":[]}]},{"data":{"id":"czxm8a1ctc00","created":1710840183260,"text":"开始时间 + passtime=》趋势图当前屏的开始时间"},"children":[]}]}]},{"data":{"id":"czxm148ep2g0","created":1710839622077,"text":"事件绘制DTrendWd::DrawEvent()"},"children":[]}]}]},"template":"right","theme":"fresh-blue","version":"1.4.43"}